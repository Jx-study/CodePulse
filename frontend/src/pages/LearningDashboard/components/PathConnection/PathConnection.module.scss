.pathConnection {
  z-index: 0;
  pointer-events: none;
}

.path {
  stroke-linecap: round;
  transition: all 0.5s $ease-smooth;
  fill: none;

  // 鎖定狀態 - 灰黑色
  &.locked {
    stroke: #374151;
  }

  // 已解鎖 - 藍色
  &.unlocked {
    stroke: $info-color;
    stroke-width: 2.5;
    filter: drop-shadow(0 0 4px rgba($info-color, 0.4));
  }

  // 已完成 - 綠色
  &.completed {
    stroke: $execution-color;
    stroke-width: 3;
    filter: drop-shadow(0 0 6px rgba($execution-color, 0.5));
  }

}

.andConnection {
  stroke-width: 2;
}

.orConnection {
  stroke-dasharray: 10, 8;
  stroke-width: 2;
}

// 幽靈參考連線 - 虛線 + 紫色 + 半透明
.ghostConnection {
  stroke-dasharray: 8, 6; // 較細密的虛線
  stroke-width: 2;
  opacity: 0.6;

  // 統一紫色主題（不分 locked/unlocked）
  stroke: rgba($primary-color, 0.7);
  filter: drop-shadow(0 0 3px rgba($primary-color, 0.3));

  // 鼠標懸停時稍微提高可見度
  &:hover {
    opacity: 0.8;
    stroke-width: 2.5;
  }
}
